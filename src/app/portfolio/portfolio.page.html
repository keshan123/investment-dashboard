<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>
      Portfolio
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Portfolio</ion-title>
    </ion-toolbar>
  </ion-header>

  <ion-list *ngIf="investmentsWithPercent$ | async as investments">
    <ion-item *ngFor="let inv of investments" style="padding: 12px 12px 0 12px;" class="ion-no-border">
      <div style="display: flex; width: 100%; justify-content: space-between; align-items: center;">
        <!-- First column: Name and Symbol -->
        <div style="flex: 1; display: flex; flex-direction: column; gap: 12px;">
          <span style="font-weight: bold;">{{ inv.name }}</span>
          <span style="color: #888; margin-bottom: 12px;">{{ inv.symbol }}</span>
        </div>
        <!-- Second column: Price and % Change -->
        <div style="flex: 1; display: flex; flex-direction: column; align-items: flex-end; gap: 12px;">
          <span>
            <span [style.color]="getPriceColor(inv.symbol)">
              {{ getPriceTick(inv.symbol)?.price | number:'1.2-2' }}
            </span>
          </span>
          <span [style.color]="inv.percentDiff > 0 ? 'green' : (inv.percentDiff < 0 ? 'red' : '')" style="margin-bottom: 12px;">
            {{ inv.percentDiff | number:'1.1-2' }}%
          </span>
        </div>
        <!-- Third column: Total Value and % of Portfolio -->
        <div style="flex: 1; display: flex; flex-direction: column; align-items: flex-end; gap: 12px;">
          <span style="font-weight: bold;">{{ inv.totalValue | number:'1.2-2' }}</span>
          <span style="color: #888; margin-bottom: 12px;">{{ inv.percent | number:'1.1-1' }}%</span>
        </div>
      </div>
    </ion-item>
  </ion-list>
</ion-content>
